import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = 'AIzaSyCYu9qcjEJD2YNKNsZ1csNU1WVpor96oLo'
  console.log(apiKey)
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
    systemInstruction: "Generate a 3-day travel plan for a couple visiting Las Vegas on a budget. The plan should include a list of hotels with details such as the hotel name, address, price, hotel image URL, geo-coordinates, rating, and a brief description. Additionally, provide a day-wise itinerary for the 3 days, including information about the places to visit. For each place, include the name, description, image URL, geo-coordinates, ticket pricing, the best time to visit, and the travel time between locations and add some more details about plcaes plan. Format the entire response in JSON, ensuring it is organized and easy to follow\n",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

   export  const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate a 3-day travel plan for a couple visiting Las Vegas on a budget. The plan should include a list of hotels with details such as the hotel name, address, price, hotel image URL, geo-coordinates, rating, and a brief description. Additionally, provide a day-wise itinerary for the 3 days, including information about the places to visit. For each place, include the name, description, image URL, geo-coordinates, ticket pricing, the best time to visit, and the travel time between locations. Format the entire response in JSON, ensuring it is organized and easy to follow\n\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"trip_name\": \"Las Vegas Budget Getaway for Couples\",\n  \"duration\": \"3 Days\",\n  \"hotels\": [\n    {\n      \"name\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $100 per night\",\n      \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Circus_Circus_Las_Vegas_2018.jpg/800px-Circus_Circus_Las_Vegas_2018.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1458,\n        \"longitude\": -115.1663\n      },\n      \"rating\": 3.5,\n      \"description\": \"A budget-friendly option with a circus theme, offering basic rooms and family-friendly entertainment.\"\n    },\n     {\n      \"name\": \"Excalibur Hotel & Casino\",\n       \"address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$60 - $120 per night\",\n      \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Excalibur_Las_Vegas_South_view_201306.jpg/800px-Excalibur_Las_Vegas_South_view_201306.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.0989,\n        \"longitude\": -115.1741\n      },\n      \"rating\": 4.0,\n      \"description\": \"A medieval-themed hotel with affordable rooms and various dining options, located at the south end of the Strip.\"\n    },\n    {\n      \"name\": \"The LINQ Hotel + Experience\",\n      \"address\": \"3535 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$70 - $150 per night\",\n      \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/Linq_Hotel_Las_Vegas.jpg/800px-Linq_Hotel_Las_Vegas.jpg\",\n        \"geo_coordinates\": {\n        \"latitude\": 36.1171,\n        \"longitude\": -115.1707\n      },\n      \"rating\": 4.2,\n      \"description\": \"Modern hotel with a lively atmosphere and access to the LINQ Promenade, offering various dining and entertainment options.\"\n    }\n\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip & Downtown Vibes\",\n      \"places\": [\n        {\n          \"name\": \"Welcome to Fabulous Las Vegas Sign\",\n           \"description\": \"An iconic landmark for photo opportunities, the quintessential Las Vegas welcome!\",\n          \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Welcome_to_Las_Vegas_sign.jpg/800px-Welcome_to_Las_Vegas_sign.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1725\n          },\n          \"ticket_pricing\": \"Free\",\n          \"best_time_to_visit\": \"Early morning or late afternoon to avoid crowds\",\n           \"travel_time_from_previous\": \"Starting point\"\n        },\n        {\n            \"name\": \"Bellagio Conservatory & Botanical Gardens\",\n            \"description\": \"A stunning display of horticultural artistry, with elaborate seasonal themes.\",\n             \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Bellagio_Conservatory_and_Botanical_Gardens_March_2023_02.jpg/800px-Bellagio_Conservatory_and_Botanical_Gardens_March_2023_02.jpg\",\n           \"geo_coordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1763\n          },\n          \"ticket_pricing\": \"Free\",\n          \"best_time_to_visit\": \"Morning or afternoon for a relaxed experience\",\n          \"travel_time_from_previous\": \"10-15 minutes by walking\"\n\n        },\n         {\n            \"name\": \"Fremont Street Experience\",\n            \"description\": \"A vibrant pedestrian mall with a dazzling light show on a canopy screen, plus street performers and free concerts.\",\n             \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Fremont_street_experience_2019-11-03_2.jpg/800px-Fremont_street_experience_2019-11-03_2.jpg\",\n            \"geo_coordinates\": {\n             \"latitude\": 36.1700,\n              \"longitude\": -115.1413\n            },\n             \"ticket_pricing\": \"Free\",\n            \"best_time_to_visit\": \"Evening to enjoy the Viva Vision light show\",\n            \"travel_time_from_previous\": \"20-25 minutes by car/ride-share\"\n          }\n        ]\n    },\n    \"day2\": {\n       \"theme\": \"Entertainment & Nature\",\n      \"places\": [\n         {\n          \"name\": \"High Roller Observation Wheel\",\n            \"description\": \"Enjoy breathtaking views of the Las Vegas Strip and surrounding areas from the world's tallest observation wheel.\",\n           \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/High_Roller_Las_Vegas.jpg/800px-High_Roller_Las_Vegas.jpg\",\n            \"geo_coordinates\": {\n            \"latitude\": 36.1165,\n            \"longitude\": -115.1698\n          },\n           \"ticket_pricing\": \"$25-$35 per person (discounted prices online)\",\n          \"best_time_to_visit\": \"Sunset for stunning city views\",\n           \"travel_time_from_previous\": \"Starting point\"\n          },\n        {\n          \"name\": \"Red Rock Canyon National Conservation Area\",\n            \"description\": \"Stunning desert landscapes with hiking trails, rock climbing, and scenic drives.\",\n             \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Red_Rock_Canyon_001.jpg/800px-Red_Rock_Canyon_001.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1570,\n            \"longitude\": -115.4117\n          },\n            \"ticket_pricing\": \"$15 per vehicle\",\n          \"best_time_to_visit\": \"Early morning or late afternoon for cooler temperatures\",\n          \"travel_time_from_previous\": \"30-40 minutes by car/ride-share\"\n        },\n          {\n          \"name\": \"Mirage Volcano\",\n          \"description\": \"An explosive display of fire and water in front of the Mirage hotel.\",\n           \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c6/Mirage_volcano.jpg/800px-Mirage_volcano.jpg\",\n            \"geo_coordinates\": {\n            \"latitude\": 36.1208,\n            \"longitude\": -115.1734\n          },\n          \"ticket_pricing\": \"Free\",\n          \"best_time_to_visit\": \"Nightly showtimes, check schedule online\",\n          \"travel_time_from_previous\": \"25-30 minutes by car/ride-share\"\n        }\n      ]\n    },\n     \"day3\": {\n      \"theme\": \"Museums & South Strip Exploration\",\n      \"places\": [\n         {\n          \"name\": \"The Neon Museum\",\n          \"description\": \"A graveyard of iconic Las Vegas signs, showcasing the city's vibrant history.\",\n            \"image_url\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9b/Neon_Museum_Las_Vegas_August_2018.jpg/800px-Neon_Museum_Las_Vegas_August_2018.jpg\",\n            \"geo_coordinates\": {\n            \"latitude\": 36.1674,\n            \"longitude\": -115.1420\n          },\n         \"ticket_pricing\": \"$20 - $28 per person\",\n          \"best_time_to_visit\": \"Daytime for photo opportunities, but check for evening tours\",\n          \"travel_time_from_previous\": \"Starting point\"\n         },\n        {\n          \"name\": \"M&M's World\",\n            \"description\": \"A colorful and interactive store dedicated to M&M candies.\",\n             \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/M%26Ms_World_Las_Vegas_Interior.jpg/800px-M%26Ms_World_Las_Vegas_Interior.jpg\",\n           \"geo_coordinates\": {\n            \"latitude\": 36.1089,\n            \"longitude\": -115.1731\n          },\n          \"ticket_pricing\": \"Free Entry (purchases optional)\",\n          \"best_time_to_visit\": \"Any time of the day\",\n           \"travel_time_from_previous\": \"20-25 minutes by car/ride-share\"\n        },\n          {\n           \"name\":\"Seven Magic Mountains\",\n            \"description\": \"A public art installation featuring seven colorful stacked rock totems.\",\n             \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Seven_Magic_Mountains.jpg/800px-Seven_Magic_Mountains.jpg\",\n             \"geo_coordinates\": {\n                \"latitude\": 35.9678,\n                \"longitude\": -115.1911\n             },\n              \"ticket_pricing\": \"Free\",\n              \"best_time_to_visit\": \"Morning or late afternoon to avoid the heat\",\n              \"travel_time_from_previous\": \"20-25 minutes by car/ride-share\"\n          }\n      ]\n    }\n  }\n}\n```\n"},
          ],
        },
      ],
    });
  
